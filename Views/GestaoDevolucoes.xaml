<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BibliotecaAPP.Views.GestaoDevolucoes"
             Title="Devolução"
             BackgroundColor="White">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="25">

            <!-- Escolha de Membro -->
            <VerticalStackLayout Spacing="8">
                <Label Text="Selecionar Membro:" FontAttributes="Bold" TextColor="Black"/>
                <Frame BackgroundColor="White" BorderColor="#DDD" CornerRadius="8" Padding="0" HasShadow="True">
                    <Picker x:Name="membroPicker"
                            Title="Selecione o membro"
                            BackgroundColor="Transparent"
                            TextColor="Black"
                            FontSize="20"
                             />
                </Frame>
            </VerticalStackLayout>

            <!-- Informações do Empréstimo -->
            <Frame BackgroundColor="White" BorderColor="#DDD" CornerRadius="12" Padding="15" HasShadow="True">
                <VerticalStackLayout Spacing="15">

                    <!-- Rótulo Livro -->
                    <Label Text="Livro:" FontAttributes="Bold" TextColor="Black"/>
                    <HorizontalStackLayout Spacing="10">
                        <Image Source="book_icon.png" WidthRequest="20" HeightRequest="20"/>
                        <Label Text="Curso Extensivo de Python" FontAttributes="Bold" VerticalOptions="Center" TextColor="Black"/>
                    </HorizontalStackLayout>

                    <!-- Rótulo Membro -->
                    <Label Text="Membro:" FontAttributes="Bold" TextColor="Black"/>
                    <HorizontalStackLayout Spacing="10">
                        <Image Source="user_icon.png" WidthRequest="20" HeightRequest="20"/>
                        <Label Text="João da Silva (ID: 00123)" VerticalOptions="Center" TextColor="Black"/>
                    </HorizontalStackLayout>

                    <!-- Devolução e Atraso -->
                    <Grid ColumnDefinitions="Auto,Auto" RowDefinitions="Auto" ColumnSpacing="20" >
                        <VerticalStackLayout>
                            <Label Text="Devolução Esperada:" FontAttributes="Bold" TextColor="Black"/>
                            <Entry Text="26/05/2025" IsReadOnly="True" WidthRequest="120" BackgroundColor="#F9F9F9" TextColor="Black" />
                        </VerticalStackLayout>

                        <Frame Grid.Column="1" BackgroundColor="#FFF4E5" Padding="5,2" CornerRadius="8" HasShadow="False" VerticalOptions="End">
                            <Label Text="Atraso: 6 dias" TextColor="#B85C00" FontSize="12"/>
                        </Frame>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- Multa e Estado do Livro lado a lado -->
            <HorizontalStackLayout Spacing="20" VerticalOptions="Center">
                <VerticalStackLayout Spacing="8" HorizontalOptions="StartAndExpand">
                    <Label Text="Multa:" FontAttributes="Bold" TextColor="Black"/>
                    <VerticalStackLayout Spacing="5">
                        <HorizontalStackLayout Spacing="5" VerticalOptions="Center">
                            <CheckBox x:Name="chkPago"/>
                            <Label Text="Pago" VerticalOptions="Center" TextColor="Black"/>
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="5" VerticalOptions="Center">
                            <CheckBox x:Name="chkIsentar"/>
                            <Label Text="Isentar Multa" VerticalOptions="Center" TextColor="Black"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </VerticalStackLayout>

                <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                    <Label Text="Estado do Livro:" FontAttributes="Bold" TextColor="Black"/>
                    <Frame BackgroundColor="White" BorderColor="#DDD" CornerRadius="8" Padding="0" HasShadow="True" >
                        <Picker x:Name="estadoLivroPicker" Title="Selecione o estado"
                                BackgroundColor="Transparent"
                                TextColor="Black"
                                >
                            <Picker.Items>
                                <x:String>Bom estado</x:String>
                                <x:String>Danificado</x:String>
                                <x:String>Perdido</x:String>
                            </Picker.Items>
                        </Picker>
                    </Frame>
                </VerticalStackLayout>
            </HorizontalStackLayout>

            <!-- Justificativa -->
            <VerticalStackLayout Spacing="8">
                <Label Text="Justificativa:" FontAttributes="Bold" TextColor="Black"/>
                <Editor x:Name="justificativaEditor"
                        Placeholder="Digite a justificativa aqui..."
                        AutoSize="TextChanges"
                        HeightRequest="100"
                        BackgroundColor="#F9F9F9"
                        TextColor="Black"
                        Margin="0"
                        
                        />
            </VerticalStackLayout>

            <!-- Botões -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="20">
                <Button Text="Confirmar Devolução"
                        BackgroundColor="#007BFF"
                        TextColor="White"
                        CornerRadius="10"
                        Clicked="OnConfirmarDevolucaoClicked"
                        Grid.Column="0"/>

                <Button Text="Cancelar"
                        BackgroundColor="#E5E5E5"
                        TextColor="Black"
                        CornerRadius="10"
                        Clicked="OnCancelarClicked"
                        Grid.Column="1"/>
            </Grid>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
